# Spec: E01-F01-T06 - Add application icon and window styling

---
# ============================================================================
# SPEC METADATA
# ============================================================================

# === IDENTIFICATION ===
id: E01-F01-T06
clickup_task_id: '86ew0209w'
title: Add application icon and window styling
type: task

# === HIERARCHY ===
parent: E01-F01
children: []
epic: E01
feature: F01
task: T06
domain: application-framework

# === WORKFLOW ===
status: draft
priority: low

# === TRACKING ===
created: '2025-12-28'
updated: '2025-12-28'
due_date: ''
estimated_hours: 2
actual_hours: 0

# === METADATA ===
tags: [ui, pyside6, styling, branding, icons, parallel]
effort: small
risk: low
parallel: true
---

**Status**: Draft
**Type**: Task
**Parent**: E01-F01 (Main Window & Navigation)
**Created**: 2025-12-28
**Updated**: 2025-12-28
**Parallel**: [P] Can be executed in parallel with T01, T02, T04

## Executive Summary

Add professional branding to the application by setting a window icon, configuring global application styling, and defining the visual theme. This includes creating or sourcing an application icon, setting it as the window icon, and applying consistent styling across the application using Qt stylesheets or a theme system.

## Execution Flow

```
1. Create or source application icon
   → Design or obtain icon in multiple resolutions:
     - 16x16 (window title bar, taskbar)
     - 32x32 (desktop shortcut)
     - 48x48 (application list)
     - 256x256 (high DPI displays)
   → Save in PNG format with transparency
   → Store in resources directory: resources/icons/app_icon.png

2. Create Qt Resource file for icons
   → Create resources.qrc file
   → Add app_icon.png to resource file
   → Compile using pyside6-rcc: resources.qrc -> resources_rc.py
   → Import resources_rc in application

3. Set window icon in MainWindow
   → Import QIcon from PySide6.QtGui
   → Load icon from resources: QIcon(":/icons/app_icon.png")
   → Set window icon: self.setWindowIcon(icon)
   → Verify icon appears in title bar and taskbar

4. Set application-wide icon
   → In main application entry point (main.py or app.py)
   → Set QApplication icon: app.setWindowIcon(QIcon(":/icons/app_icon.png"))
   → This sets default icon for all windows

5. Define application color scheme
   → Create color palette constants:
     - PRIMARY_COLOR = "#3498db" (blue)
     - SECONDARY_COLOR = "#2c3e50" (dark blue-gray)
     - ACCENT_COLOR = "#e74c3c" (red for alerts)
     - BACKGROUND_COLOR = "#ecf0f1" (light gray)
     - TEXT_COLOR = "#2c3e50" (dark gray)
     - SUCCESS_COLOR = "#27ae60" (green)
     - WARNING_COLOR = "#f39c12" (orange)
   → Store in theme configuration file or constants module

6. Create application stylesheet
   → Create global stylesheet file: styles/application.qss
   → Define base styling for common widgets:
     - QWidget: Background, font, colors
     - QPushButton: Button styling, hover, pressed states
     - QLabel: Text styling
     - QLineEdit: Input field styling
     - QTableWidget: Table styling
   → Use defined color scheme consistently

7. Apply stylesheet to application
   → Load stylesheet from file or embed in resources
   → Apply to QApplication: app.setStyleSheet(stylesheet)
   → Verify styling appears consistently across all widgets

8. Add application metadata
   → Set application name: QApplication.setApplicationName("JTS Trading Platform")
   → Set organization: QApplication.setOrganizationName("JTS Trading")
   → Set application version: QApplication.setApplicationVersion("0.1.0")
   → These are used by QSettings and other Qt features

9. Configure font settings
   → Set default application font:
     - Font family: "Segoe UI" (Windows), "SF Pro" (macOS), "Ubuntu" (Linux)
     - Font size: 10pt
   → Create QFont and apply: app.setFont(font)
   → Ensure font is available or use fallback

10. Test visual consistency
    → Verify icon appears on all platforms
    → Verify colors are consistent across widgets
    → Verify font rendering is clean and readable
    → Test on different DPI settings
```

## User Stories

### Primary User Story
**As a** trader
**I want to** see a professional application icon and consistent styling
**So that** the application feels polished and trustworthy

### Additional Stories
- **As a** trader, **I want to** easily identify the application in my taskbar, **So that** I can quickly switch to it
- **As a** developer, **I want to** have a centralized theme configuration, **So that** I can easily maintain consistent styling

## Acceptance Scenarios

### Scenario 1: Happy Path - Icon Display
**Given** the application is launched
**When** the main window is displayed
**Then** the window icon should appear in the title bar
**And** the icon should appear in the taskbar
**And** the icon should be clear and recognizable at all sizes

### Scenario 2: Application Styling
**Given** the application is launched
**When** any widget is displayed
**Then** the widget should use the defined color scheme
**And** buttons should have consistent hover and pressed states
**And** text should be readable with good contrast
**And** the overall appearance should be professional

### Scenario 3: Cross-Platform Consistency
**Given** the application is run on different platforms (Linux, macOS, Windows)
**When** the UI is displayed
**Then** the icon should appear correctly on all platforms
**And** the styling should be consistent across platforms
**And** font rendering should be clean on all platforms

## Requirements

### Functional Requirements
- **FR-001**: Application MUST display a custom icon in window title bar and taskbar
- **FR-002**: Application MUST use a consistent color scheme across all UI elements
- **FR-003**: Application MUST define application metadata (name, organization, version)
- **FR-004**: Application MUST apply a global stylesheet for consistent styling
- **FR-005**: Application MUST use a professional, readable font

### Non-Functional Requirements
- **NFR-001**: Icon MUST be clear and recognizable at all standard sizes (16x16 to 256x256)
- **NFR-002**: Color scheme MUST provide good contrast for text readability
- **NFR-003**: Styling MUST be consistent across Windows, macOS, and Linux

### Technical Constraints
- **TC-001**: Must use Qt Resource system (.qrc) for icon embedding
- **TC-002**: Must use QIcon for icon loading
- **TC-003**: Must use Qt stylesheets (.qss) or QPalette for styling
- **TC-004**: Must support high DPI displays

## Key Entities

### Entity: Application Icon
- **Description**: Multi-resolution icon for application branding
- **Formats**: PNG with transparency
- **Resolutions**: 16x16, 32x32, 48x48, 256x256

### Entity: Color Scheme
- **Description**: Consistent color palette for application
- **Primary Colors**: Blue (#3498db), Dark blue-gray (#2c3e50)
- **Accent Colors**: Red (#e74c3c), Green (#27ae60), Orange (#f39c12)

### Entity: Application Stylesheet
- **Description**: Qt stylesheet defining visual appearance
- **File**: styles/application.qss
- **Scope**: Global application styling

## Dependencies

### Upstream Dependencies
None - This task can be executed in parallel

### Downstream Impact
- [ ] All UI components will inherit the defined styling
- [ ] Application will have consistent branding

## Implementation Details

### File Structure
```
resources/
  icons/
    app_icon.png
  styles/
    application.qss
  resources.qrc
  resources_rc.py (generated)
src/
  presentation/
    theme/
      colors.py (color constants)
      fonts.py (font configuration)
tests/
  unit/
    presentation/
      test_theme.py
```

### Qt Resource File (resources.qrc)
```xml
<!DOCTYPE RCC>
<RCC version="1.0">
  <qresource prefix="/icons">
    <file>icons/app_icon.png</file>
  </qresource>
  <qresource prefix="/styles">
    <file>styles/application.qss</file>
  </qresource>
</RCC>
```

### Application Stylesheet (application.qss)
```css
/* Base widget styling */
QWidget {
    background-color: #ecf0f1;
    color: #2c3e50;
    font-family: "Segoe UI", "SF Pro", "Ubuntu", sans-serif;
    font-size: 10pt;
}

/* Button styling */
QPushButton {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-weight: 500;
}

QPushButton:hover {
    background-color: #2980b9;
}

QPushButton:pressed {
    background-color: #21618c;
}

QPushButton:disabled {
    background-color: #bdc3c7;
    color: #7f8c8d;
}

/* Input field styling */
QLineEdit {
    background-color: white;
    border: 1px solid #bdc3c7;
    border-radius: 4px;
    padding: 6px;
    color: #2c3e50;
}

QLineEdit:focus {
    border: 2px solid #3498db;
}

/* Table styling */
QTableWidget {
    background-color: white;
    gridline-color: #ecf0f1;
    border: 1px solid #bdc3c7;
}

QTableWidget::item {
    padding: 4px;
}

QTableWidget::item:selected {
    background-color: #3498db;
    color: white;
}

QHeaderView::section {
    background-color: #2c3e50;
    color: white;
    padding: 8px;
    border: none;
    font-weight: bold;
}
```

### Color Constants (colors.py)
```python
"""Application color scheme."""

# Primary colors
PRIMARY_COLOR = "#3498db"      # Blue
SECONDARY_COLOR = "#2c3e50"    # Dark blue-gray

# Accent colors
ACCENT_COLOR = "#e74c3c"       # Red (alerts)
SUCCESS_COLOR = "#27ae60"      # Green
WARNING_COLOR = "#f39c12"      # Orange
INFO_COLOR = "#3498db"         # Blue

# Background colors
BACKGROUND_COLOR = "#ecf0f1"   # Light gray
SURFACE_COLOR = "#ffffff"      # White

# Text colors
TEXT_COLOR = "#2c3e50"         # Dark gray
TEXT_SECONDARY = "#7f8c8d"     # Gray
TEXT_DISABLED = "#95a5a6"      # Light gray

# Border colors
BORDER_COLOR = "#bdc3c7"       # Gray
BORDER_ACTIVE = "#3498db"      # Blue
```

### MainWindow Icon Setup
```python
from PySide6.QtGui import QIcon
from PySide6.QtCore import QCoreApplication
import resources_rc  # Generated resource file

class MainWindow(QMainWindow):
    def __init__(self, settings: SettingsService, logger: Logger):
        super().__init__()
        # ... existing initialization ...

        self._setup_branding()

    def _setup_branding(self) -> None:
        """Setup application icon and branding."""
        # Set window icon
        icon = QIcon(":/icons/app_icon.png")
        self.setWindowIcon(icon)

        # Set window title
        self.setWindowTitle("JTS Trading Platform")

        self._logger.debug("Application branding configured")
```

### Application Entry Point (main.py)
```python
from PySide6.QtWidgets import QApplication
from PySide6.QtGui import QIcon, QFont
import sys
import resources_rc

def main():
    app = QApplication(sys.argv)

    # Set application metadata
    app.setApplicationName("JTS Trading Platform")
    app.setOrganizationName("JTS Trading")
    app.setApplicationVersion("0.1.0")

    # Set application icon
    app.setWindowIcon(QIcon(":/icons/app_icon.png"))

    # Set application font
    font = QFont("Segoe UI", 10)
    app.setFont(font)

    # Load and apply stylesheet
    with open("resources/styles/application.qss", "r") as f:
        app.setStyleSheet(f.read())

    # Or load from resources:
    # stylesheet = QFile(":/styles/application.qss")
    # stylesheet.open(QFile.ReadOnly | QFile.Text)
    # app.setStyleSheet(str(stylesheet.readAll(), 'utf-8'))

    # Create and show main window
    main_window = MainWindow(settings, logger)
    main_window.show()

    sys.exit(app.exec())
```

## Success Criteria

### Acceptance Criteria
- [ ] Application icon appears in window title bar
- [ ] Application icon appears in taskbar/dock
- [ ] Icon is clear at all standard sizes
- [ ] Application metadata is set correctly
- [ ] Global stylesheet is applied successfully
- [ ] Color scheme is consistent across all widgets
- [ ] Font is readable and professional
- [ ] Styling is consistent on Linux, macOS, Windows
- [ ] High DPI displays render icon correctly

### Definition of Done
- [ ] Code reviewed and approved
- [ ] Icon created or sourced in all required sizes
- [ ] Qt resource file created and compiled
- [ ] Stylesheet defined and tested
- [ ] Application metadata configured
- [ ] Visual testing complete on all target platforms
- [ ] Code follows PEP 8 style guidelines
- [ ] Documentation updated with theming instructions

## Risk Assessment

| Risk | Probability | Impact | Mitigation |
|------|------------|--------|------------|
| Icon unclear at small sizes | Medium | Low | Design icon with simplicity, test at all sizes |
| Stylesheet conflicts with widget defaults | Low | Medium | Test thoroughly, use specific selectors, document overrides |
| Font not available on all platforms | Medium | Low | Use fallback fonts, test on all platforms |
| High DPI scaling issues | Medium | Low | Test on high DPI displays, use vector icon if needed |

## Notes and Clarifications

### Design Decisions
- 2025-12-28: Use PNG for icon instead of SVG for broader Qt compatibility
- 2025-12-28: Embed resources in compiled Python for easier distribution
- 2025-12-28: Use platform-specific font fallbacks for optimal appearance

### Implementation Notes
- Icon design should be simple and recognizable (e.g., stylized "JTS" letters or chart symbol)
- Consider hiring designer or using icon generation tool for professional result
- Qt stylesheet syntax is CSS-like but has some differences
- Can use Qt Designer to preview stylesheets visually

### Future Enhancements
- Add dark mode theme support
- Allow user to select theme in Settings
- Add more icon sizes for different use cases
- Create SVG version for perfect scaling

---
*Template Version: 2.0.0 - Task Level Spec*
