# Spec: E12-F01-T03 - Define Signal Entities

---
# ============================================================================
# SPEC METADATA
# ============================================================================

# === IDENTIFICATION ===
id: E12-F01-T03
clickup_task_id: ''
title: Define Signal Entities (TradingSignal, SignalType, SignalStatus)
type: task

# === HIERARCHY ===
parent: E12-F01
children: []
epic: E12
feature: F01
task: T03
domain: paper-trading

# === WORKFLOW ===
status: draft
priority: high

# === TRACKING ===
created: '2025-12-30'
updated: '2025-12-30'
due_date: ''
estimated_hours: 4
actual_hours: 0

# === METADATA ===
tags:
  - domain
  - entities
  - signal
  - trading
effort: medium
risk: low
---

**Status**: Draft
**Type**: Task
**Parent**: E12-F01
**Created**: 2025-12-30
**Updated**: 2025-12-30

## Executive Summary

Create `TradingSignal` dataclass and related enums (`SignalType`, `SignalStatus`, `TradeDirection`) for managing trading signal events in paper trading. Signals represent entry/exit opportunities that users can execute or reject.

## Execution Flow

```
1. Create SignalType enum
   → ENTRY, EXIT
2. Create SignalStatus enum
   → PENDING, EXECUTED, REJECTED, EXPIRED
3. Create TradeDirection enum
   → BUY, SELL
4. Create TradingSignal dataclass
   → id, session_id, symbol, symbol_name
   → signal_type, direction
   → price, quantity, reason
   → timestamp, status
   → executed_at, executed_price (optional)
   → Return: SUCCESS with signal entities defined
```

## User Stories

### Primary User Story
**As a** developer
**I want to** use type-safe signal entities
**So that** I can manage trading signals reliably

## Acceptance Scenarios

### Scenario 1: Create Entry Signal
**Given** entry conditions met for 035720
**When** TradingSignal is created
**Then** signal has SignalType.ENTRY and SignalStatus.PENDING

### Scenario 2: Execute Signal
**Given** pending signal
**When** execute_signal is called
**Then** status becomes EXECUTED with executed_at timestamp

### Scenario 3: Reject Signal
**Given** pending signal
**When** user rejects
**Then** status becomes REJECTED

### Scenario 4: Signal Expiration
**Given** pending signal older than threshold
**When** expiration check runs
**Then** status becomes EXPIRED

## Requirements

### Functional Requirements
- **FR-001**: SignalType enum with ENTRY, EXIT
- **FR-002**: SignalStatus enum with PENDING, EXECUTED, REJECTED, EXPIRED
- **FR-003**: TradeDirection enum with BUY, SELL
- **FR-004**: TradingSignal with complete fields

### Non-Functional Requirements
- **NFR-001**: Decimal for price values
- **NFR-002**: UUID for signal id
- **NFR-003**: Type hints on all fields

### Technical Constraints
- **TC-001**: Python dataclasses
- **TC-002**: Decimal for financial values

## Dependencies

### Upstream Dependencies
- None (parallel with T01, T02)

### Downstream Impact
- [ ] E12-F02-T03: Signal detection creates these
- [ ] E12-F04-T03: UI displays signals

## Gate Checks

### Pre-Implementation Gates
- [x] Signal fields defined in PRD
- [x] Status transitions clear

### Quality Gates
- [ ] Unit tests for all entities
- [ ] Test coverage > 80%

## Success Criteria

### Acceptance Criteria
- [ ] All entities implemented
- [ ] Enum values complete
- [ ] Status transitions work
- [ ] Tests passing

### Definition of Done
- [ ] Code reviewed
- [ ] Unit tests passing
- [ ] Documentation complete

## Artifacts

### Input Documents
- [Parent Feature](../E12-F01.spec.md)

### Output Artifacts
- `src/domain/entities/trading_signal.py`
- `src/domain/enums/signal_type.py`
- `src/domain/enums/signal_status.py`
- `src/domain/enums/trade_direction.py`

---
*Template Version: 2.0.0 - Enhanced with Speckit features*
