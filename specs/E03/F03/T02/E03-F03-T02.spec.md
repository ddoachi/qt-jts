# Spec: E03-F03-T02 - Create Mock Data Generators

---
# ============================================================================
# SPEC METADATA
# ============================================================================

# === IDENTIFICATION ===
id: E03-F03-T02
clickup_task_id: '86ew01zzk'
title: Create Mock Data Generators
type: task

# === HIERARCHY ===
parent: E03-F03
children: []
epic: E03
feature: F03
task: T02
domain: broker

# === WORKFLOW ===
status: draft
priority: medium

# === TRACKING ===
created: '2025-12-28'
updated: '2025-12-28'
due_date: ''
estimated_hours: 4
actual_hours: 0

# === METADATA ===
tags:
  - mock
  - generator
  - simulation
  - data
effort: medium
risk: low
---

**Status**: Draft
**Type**: Task
**Parent**: E03-F03
**Created**: 2025-12-28
**Updated**: 2025-12-28

## Executive Summary

Create realistic mock data generators for OHLCV candle data with various patterns (uptrend, downtrend, volatile), order fill simulation with slippage, and predefined market scenarios for testing.

## Execution Flow

```
1. Create CandleGenerator
   → Configurable volatility and drift
   → Geometric Brownian motion for price
2. Create OrderSimulator
   → Slippage calculation
   → Partial fill probability
3. Create MarketScenarios
   → Predefined configs (uptrend, downtrend, volatile)
   → Easy scenario selection
   → Return: SUCCESS with generators ready
```

## User Stories

### Primary User Story
**As a** developer
**I want to** generate realistic mock data
**So that** tests use believable market data

## Acceptance Scenarios

### Scenario 1: Generate Candles
**Given** CandleGenerator with volatility=0.02
**When** generate() is called for date range
**Then** realistic OHLCV candles are returned

### Scenario 2: Deterministic Output
**Given** generator with seed=42
**When** generate() is called twice
**Then** same data is produced

### Scenario 3: Use Scenario
**Given** MarketScenarios.uptrend()
**When** generator uses config
**Then** prices trend upward

## Requirements

### Functional Requirements
- **FR-001**: Generate OHLCV candles with configurable parameters
- **FR-002**: Support multiple timeframes
- **FR-003**: Order fill with slippage
- **FR-004**: Predefined market scenarios

### Non-Functional Requirements
- **NFR-001**: Deterministic with seed
- **NFR-002**: Fast generation (1000+ candles/sec)

### Technical Constraints
- **TC-001**: Use geometric Brownian motion
- **TC-002**: Python random module

## Dependencies

### Upstream Dependencies
- [ ] E03-F03-T01: MockBrokerGateway uses generators

### Downstream Impact
- [ ] Tests use generated data

## Gate Checks

### Pre-Implementation Gates
- [x] Mock gateway ready (T01)

### Quality Gates
- [ ] OHLC relationship tests
- [ ] Scenario configuration tests

## Success Criteria

### Acceptance Criteria
- [ ] Candles generate correctly
- [ ] Deterministic with seed
- [ ] Scenarios work

### Definition of Done
- [ ] Code reviewed
- [ ] Tests passing

## Artifacts

### Input Documents
- [Parent Feature](../E03-F03.spec.md)

### Output Artifacts
- `src/infrastructure/mock/generators/candle_generator.py`
- `src/infrastructure/mock/generators/order_simulator.py`
- `src/infrastructure/mock/scenarios.py`

---
*Template Version: 2.0.0 - Enhanced with Speckit features*
